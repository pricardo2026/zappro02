const { Client, LocalAuth } = require('whatsapp-web.js');
const qrcode = require('qrcode-terminal');
require('dotenv').config();

const client = new Client({
    authStrategy: new LocalAuth(),
    puppeteer: { headless: true, args: ['--no-sandbox'] }
});

client.on('qr', (qr) => {
    qrcode.generate(qr, { small: true });
    console.log('QR Code gerado! Escaneie com seu WhatsApp.');
});

client.on('ready', () => {
    console.log('ğŸ¤– zappro02 estÃ¡ online!');
});

client.on('message', async msg => {
    const texto = msg.body.toLowerCase();

    if (texto.includes('menu')) {
        await msg.reply(
            '*ğŸ¤– Bem-vindo ao SmartZap Pro!*\n\n' +
            '1ï¸âƒ£ Ver planos\n' +
            '2ï¸âƒ£ Falar com atendente\n' +
            '3ï¸âƒ£ Receber catÃ¡logo\n\n' +
            'Digite a opÃ§Ã£o desejada.'
        );
    }

    if (texto === '1' || texto.includes('planos')) {
        msg.reply('ğŸ“¦ Nossos planos:\n- Plano BÃ¡sico: R$29,90/mÃªs\n- Plano Premium: R$49,90/mÃªs');
    }

    if (texto === '2' || texto.includes('atendente')) {
        msg.reply('ğŸ‘© Atendimento humano: https://wa.me/5511954990631');
    }

    if (texto === '3' || texto.includes('catÃ¡logo')) {
        msg.reply('ğŸ“² Baixe nosso catÃ¡logo: https://seulink.com.br/catalogo');
    }
});

client.initialize();
